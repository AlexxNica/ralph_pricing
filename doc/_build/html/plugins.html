<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Plugins &mdash; Scrooge 2.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/bs.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Scrooge 2.2.0 documentation" href="index.html" />
    <link rel="next" title="Costs &amp; Extra costs" href="costs.html" />
    <link rel="prev" title="Services &amp; Usages" href="servicesandusages.html" /> 
  </head>
  <body>
<div class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container">
    <a
        class="brand"
        
        href="index.html"
        
        >Scrooge 2.2.0 Documentation</a>
    
    <form id="searchbox" class="navbar-search pull-right"
          action="search.html" method="get" style="display:none">
        <input type="text" name="q" class="search-query"
            placeholder="Search...">
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
</div></div></div>


<div class="container">
    <div class="row">

        <div class="span9">
    <ul class="pager">
        <li
            class="index"
        ><a
            href="genindex.html"
            accesskey="I"
        >General Index</a></li>
        <li
            class="next"
        ><a
            href="costs.html"
            accesskey="N"
        >Costs &amp; Extra costs</a></li>
        <li
            class="previous"
        ><a
            href="servicesandusages.html"
            accesskey="P"
        >Services &amp; Usages</a></li>
    </ul>
                <div class="document">
                    
  <div class="section" id="plugins">
<h1>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h1>
<p>There are two types of plugins. One of them is use to collect data from remote applications or servers and second type of plugins named report is use to present the results in report form.</p>
<p>The main goal of plugins idea is create universal and configurable logic for each new service and handle non-standard cases where collect or/and report plugin must be more complicated logic and cannot by handle by universal plugin. For example, if you have not possibility to push usages data to scrooge, you can go to scrooge administrators and try to negotiate write collects plugin for your. This way is very very not recommended but it is possible (prefer use push API). Second situation is when your service require pre-processing befor display results or do really complicated logic also, you can go to scrooge administrators and ask for help how to create own plugin again try to negotiate write report plugin for you. Recommended is use universal plugin and adjust your account logic to scrooge logic model.</p>
<p>Plugins use queues, every plugin befor run is placed on the queue and wait for its turn.</p>
<div class="section" id="collect-plugins">
<h2>Collect plugins<a class="headerlink" href="#collect-plugins" title="Permalink to this headline">¶</a></h2>
<img alt="_images/collects_data_plugins.png" src="_images/collects_data_plugins.png" />
<p>Collects plugins are using to collect data from remote source. Exactly, collect plugins are using for collect base usages. Collecting service usages is inadvisable so, create plugin for service usages is finality.</p>
<p>Each plugin is running every 11 AM o&#8217;clock and collect data from all day. There is no base plugin or something like that. Each collect plugins contains custom logic and result of plugin work is add/update data in scrooge database.</p>
</div>
<div class="section" id="report-plugins">
<h2>Report plugins<a class="headerlink" href="#report-plugins" title="Permalink to this headline">¶</a></h2>
<img alt="_images/report_plugins.png" src="_images/report_plugins.png" />
<p>Report plugins are using to generate columns on report. Each plugin must return 2 informations, column schema and column value pre venture. This is most important becouse column schema is use to define and create additional columns on report but column value fill this columns for each venture. When venture have no value for any column 0.0 will be set as default. For default cases was created universal plugin so, each service can use this plugins when:</p>
<ol class="arabic simple">
<li>Service was created</li>
<li>All usage types for this service was defined</li>
<li>Service contains usage types</li>
<li>Service contains percen for each choosen usage. (100 when only 1 usage)</li>
<li>Service contains base usages selected</li>
<li>Service contains assigned ventures</li>
<li>For each day was provided usages</li>
</ol>
<p>Service and usages are configurable part so, its can be choose from scrooge admin panel. More about &#8216;how to&#8217; you can find in Services &amp; usages section.</p>
<p>Report plugins for calculate cost of service require cost of base usages. Base usages without costs are exclude from total base cost of service so, data from raport will incorrect. More about cost in cost &amp; extra costs section.</p>
</div>
</div>


                </div>
    <ul class="pager">
        <li
            class="index"
        ><a
            href="genindex.html"
            
        >General Index</a></li>
        <li
            class="next"
        ><a
            href="costs.html"
            
        >Costs &amp; Extra costs</a></li>
        <li
            class="previous"
        ><a
            href="servicesandusages.html"
            
        >Services &amp; Usages</a></li>
    </ul>
        </div>

        
        <div class="span3 sidebar">
                <div class="well toctree sidebar-nav">
                    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">How to use</a></li>
<li class="toctree-l1"><a class="reference internal" href="servicesandusages.html">Services &amp; Usages</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="costs.html">Costs &amp; Extra costs</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
 
                </div>
                <div class="well localtoc">
                    <ul>
<li><a class="reference internal" href="#">Plugins</a><ul>
<li><a class="reference internal" href="#collect-plugins">Collect plugins</a></li>
<li><a class="reference internal" href="#report-plugins">Report plugins</a></li>
</ul>
</li>
</ul>

                </div>
            
        </div>
        
    </div>
    <div class="row">
        
<footer class="footer">
        &copy; Copyright 2013, Allegro Group.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.
</footer>
    </div>
</div>

<script src="_static/bootstrap/js/bootstrap.min.js"></script>
<script src="_static/restyle.js"></script>
  </body>
</html>